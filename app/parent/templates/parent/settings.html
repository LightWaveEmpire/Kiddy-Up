
{% extends "parent/parent_base.html" %}

{% load has_perms %}

{% block title %}Settings - {{ block.super }} {% endblock %}

{% block content %}

  <h1>Settings</h1>


  <br />
  <br />
  <br />


  <h2> Profile </h2>

    <table class="table table-bordered">
      <thead>
        <tr>
          <th>Username</th>
          <th>Zip Code</th>
          <th>Email</th>
          <th>Action</th>
        </tr>
      </thead>


	    {% if view.parent.user ==  user %}
	    <tbody>
	      <tr>
	        <td>{{view.parent.user.username}}</td>
	        <td>{{view.parent.zip_code}}</td>
	        <td>{{view.parent.user.email}}</td>
	        <td><a href="{% url 'profile-update' %}">Edit</a></td>

	      </tr>
	    {% endif %}

    </tbody>
    </table>

        <br />
        <br />
        <br />

          <h2>Children</h2>

          <p><a href="{% url 'child-add' %}">Add a Child</a></p>

        {% if view.children %}

          <table class="table table-bordered">
            <thead>
              <tr>
                <th>Child Name</th>
                <th>Age</th>
                <th>Comprehension Level</th>
                <th>Current Points</th>
                <th>Target Reward</th>
                <th>Action</th>
              </tr>
            </thead>
          <tbody>
          {% for child in view.children %}
            <tr>
              <td><a href="{% url 'child' child.id %}">{{child.name}}</a></td>
              <td>{{ child.age }}</td>
              <td>{{ child.comp_level }}</td>
              <td>{{ child.current_points }}</td>
              <td>{{ child.target_reward }}</td>
              <td><a href="{% url 'child-update' child.id%}">Edit</a></td>
            </tr>
          {% endfor %}
          </tbody>
        </table>
        {% endif %}


    <br />
    <br />
    <br />
    <h2>Rewards</h2>
    <p><a href="{% url 'reward-add' %}">Add a Reward</a></p>



    {% if view.rewards %}
    <table class="table table-bordered">
      <thead>
        <tr>
          <th>Reward Name</th>
          <th>Reward Value</th>
          <th>Action</th>
        </tr>
      </thead>
    <tbody>
    {% for reward in view.rewards %}
      <tr>
        <td><a href="{% url 'reward' reward.id %}">{{reward.name}}</a></td>
        <td>{{ reward.cost }}</td>
        <td><a href="{% url 'reward-update' reward.id%}">Edit</a></td>
      </tr>
    {% endfor %}
    </tbody>
    </table>
    {% endif %}

    <br />
    <br />
    <br />
    <h2>Link Calendar and Task List</h2>
	<ul>
    <li>
    {% if view.parent.account_creds %}
      Account Linked Successfully! ->
      <a href="{% url 'google_oauth' %}" >Link Again</a>
    {% else %}
      <a href="{% url 'google_oauth' %}" >Link Google Account</a>
    {%endif %}
    </li>

    <li>
        {% if view.parent.account_creds %}
          <a href="{% url 'pull_tasks' %}" >Get Calendar Events and Tasks</a>
        {% else %}

        {% endif %}

    </li>

  </ul>







{% endblock %}


{% block sidebar_content %}
<!-- no sidebar for registration page -->
{% endblock %}


