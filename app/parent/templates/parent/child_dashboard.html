{% extends "parent/child_base.html" %}
{% load has_perms %}
{% block title %} Child Dashboard - {{ block.super }}{% endblock %}
{% block content %}
{{ block.super }}

<style>
.dashboard_container{
  margin: 20px auto;
  width:100%;
  height:400px;
  background-color:#fff;
  display:grid;
  grid-template-columns: 75% 25%;
  grid-row: auto auto;
  grid-column-gap: 20px;
  grid-row-gap: 20px;
  .dashboard_box{
    background-color:#000;
    padding:20px;
    border-radius:10px;
    color:#fff;
    display:flex;
    align-items:center;
    justify-content:center;
    font-size:10px;
    font-family:sans-serif;
  }

}



</style>
<!--    {% if request.user|has_perms %}-->
<!--        <li class="nav-item">-->
<!--                <span data-i18n="nav.dash.main">Authenticated</span>-->
<!--        </li>-->
<!--    {% endif %}-->
<div class="dashboard_container">
    <div class="dashboard_box">
        <h2 style="width: 343px;">Tasks/Events</h2>
        <div class="row">
            <div class="col-md-12">
                <table id="example" class="table table-striped table-bordered" cellspacing="0" width="100%">
                    <thead>
                        <tr>
                            <th>Event</th>
                            <th>Location</th>
                            <th>Due</th>
                            <th>Value</th>
                            <th>Action</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for task in view.tasks %}
                        <tr>
                            <td><a href="{% url 'child-task' task.id %}">{{task.name}}</a></td>
                            <td>Location TBD</td>
                            <td>{{ task.date }}</td>
                            <td>{{ task.point_value }}</td>
                            <td><button type="button" class="btn btn-danger"><i class="far fa-trash-alt d-xl-flex justify-content-xl-center align-items-xl-center"></i></button>
                                <button type="button" class="btn btn-warning"><i class="fas fa-pencil-alt d-xl-flex justify-content-xl-center align-items-xl-center"></i></button></td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
        </div>
    </div>

<div class="dashboard_box">
<p>
                <span class="title">Weather for {{ view.weather.city }}</span>
                <figure class="image is-50x50">
                    <img src="http://openweathermap.org/img/w/{{ view.weather.icon }}.png" alt="Image"> {{ view.weather.now_temp }}° F</br>{{ view.weather.description }}
                </figure>
                Low: {{ view.weather.min_temp }}° F</br> High: {{ view.weather.max_temp }}° F</br>
                </figure>
            </p>
</div>

    <div class="dashboard_box">
        <h2 style="width: 343px;">Rewards</h2>
        <div class="row">
            <div class="col-md-4">
            </div>Balance = {{view.child.current_points}}

        </div>
        <div class="row">
            <div class="col-md-12">
                <table id="example" class="table table-striped table-bordered" cellspacing="0" width="100%">
                    <thead>
                        <tr>
                            <th>Reward Name</th>
                            <th>Reward Value</th>
                            <th>Action</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for reward in view.rewards %}
                        <tr>
                            <td><a href="{% url 'child-reward' reward.id %}">{{reward.name}}</a></td>
                            <td>{{ reward.cost }}</td>
                            <td><button type="button" class="btn btn-danger"><i class="far fa-trash-alt d-xl-flex justify-content-xl-center align-items-xl-center"></i></button>
                                <button type="button" class="btn btn-warning"><i class="fas fa-pencil-alt d-xl-flex justify-content-xl-center align-items-xl-center"></i></button>
                            </td>
                        </tr>
                        {% endfor %}
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
    <div class="dashboard_box">
        <h2 style="width: 343px;">Earned Rewards</h2>
        <div class="row">
            <div class="col-md-4">

        </div>
        <div class="row">
            <div class="col-md-12">
                <table cellspacing="0" width="100%">

                    <tbody>
                        {% for reward in view.earned_rewards %}
                        <tr>
                            <td>{{reward.reward}}</td>

                        </tr>
                        {% endfor %}
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
</div>
</div>
<footer class="footer text-center">
    <div class="container">
        <div class="row">
            <div class="col-md-4 mb-5 mb-lg-0">
                <h4 class="text-uppercase mb-4"></h4>
                <p></p>
            </div>
            <div class="col-md-4 mb-5 mb-lg-0">
                <h4 class="text-uppercase"></h4>
                <ul class="list-inline">
                    <li class="list-inline-item"><a class="btn btn-outline-light btn-social text-center rounded-circle" role="button" href="#"><i class="fa fa-facebook fa-fw"></i></a></li>
                    <li class="list-inline-item"><a class="btn btn-outline-light btn-social text-center rounded-circle" role="button" href="#"><i class="fa fa-google-plus fa-fw"></i></a></li>
                    <li class="list-inline-item"><a class="btn btn-outline-light btn-social text-center rounded-circle" role="button" href="#"><i class="fa fa-twitter fa-fw"></i></a></li>
                    <li class="list-inline-item"><a class="btn btn-outline-light btn-social text-center rounded-circle" role="button" href="#"><i class="fa fa-dribbble fa-fw"></i></a></li>
                </ul>
            </div>
            <div class="col-md-4">
                <h4 class="text-uppercase mb-4"></h4>
                <p class="lead mb-0"><span></span></p>
            </div>
        </div>
    </div>
    {% endblock %}
    {% block sidebar_content %}
    <!-- no sidebar for registration page -->
    {% endblock %}
